<div class="search-bar">
  <input
    type="text"
    placeholder="Buscar..."
    [(ngModel)]="terminoBusqueda"
    (input)="filtrarProductos()"
  />
  <select [(ngModel)]="campoBusqueda" (change)="filtrarProductos()">
    <option value="title">Nombre</option>
    <option value="slug">Slug</option>
  </select>
</div>

<p *ngIf="cargando">Cargando productos...</p>

<div *ngIf="!cargando && productosFiltrados.length > 0" class="product-grid">
  <div class="product-card" *ngFor="let producto of productosFiltrados">
    <div class="image-container">
      <img [src]="producto.images[0]" [alt]="producto.title" />
      <div class="overlay">
        <p><strong>Slug:</strong> {{ producto.slug }}</p>
        <p><strong>Descripción:</strong> {{ producto.description }}</p>
        <p><strong>Categoría:</strong> {{ producto.category?.name }}</p>
        <p><strong>Creado:</strong> {{ producto.creationAt | date: 'short' }}</p>
      </div>
    </div>
    <div class="product-info">
      <div class="product-title">{{ producto.title }}</div>
      <div class="product-price">${{ producto.price }}</div>
    </div>
  </div>
</div>

<p *ngIf="!cargando && productosFiltrados.length === 0">No hay productos que coincidan.</p>
